Version 4
SHEET 1 1468 680
WIRE 112 -32 80 -32
WIRE 192 -32 112 -32
WIRE 400 -32 192 -32
WIRE 576 -32 480 -32
WIRE 624 -32 576 -32
WIRE 720 -32 720 -160
WIRE 720 -32 704 -32
WIRE 784 -32 784 -160
WIRE 816 -32 784 -32
WIRE 1008 -32 896 -32
WIRE 1136 -32 1008 -32
WIRE 1168 -32 1136 -32
WIRE 576 0 576 -32
WIRE 672 80 576 80
WIRE 576 112 576 80
WIRE 672 112 672 80
WIRE 1008 112 1008 -32
WIRE 1168 112 1168 -32
WIRE 80 128 80 -32
WIRE 192 128 192 -32
WIRE 480 128 416 128
WIRE 528 128 480 128
WIRE 528 176 464 176
WIRE -192 192 -240 192
WIRE -128 192 -192 192
WIRE 576 208 576 192
WIRE 672 208 672 176
WIRE 672 208 576 208
WIRE 464 224 464 176
WIRE 576 224 576 208
WIRE -240 256 -240 192
WIRE 80 368 80 208
WIRE 192 368 192 192
WIRE 192 368 80 368
WIRE 576 368 576 304
WIRE 576 368 192 368
WIRE 848 368 576 368
WIRE 1008 368 1008 176
WIRE 1008 368 928 368
WIRE 1168 368 1168 192
WIRE 1168 368 1008 368
WIRE -240 384 -240 336
WIRE 80 432 80 368
FLAG 80 432 0
FLAG -240 384 0
FLAG 464 224 0
FLAG 480 128 SW_CTLR
FLAG -192 192 SW_CTLR
FLAG 1136 -32 Vout
FLAG 112 -32 Vin
FLAG 576 -32 Vsw
SYMBOL Voltage 80 112 R0
SYMATTR InstName V1
SYMATTR Value {Vin}
SYMATTR SpiceLine Rser=10m
SYMBOL Voltage -240 240 R0
WINDOW 3 -414 56 Left 2
SYMATTR Value PULSE(0 1 0 1p 1p {D/Fs} {Ts})
SYMATTR InstName V2
SYMBOL Cap 176 128 R0
SYMATTR InstName C2
SYMATTR Value 138µF
SYMBOL Cap 992 112 R0
SYMATTR InstName C3
SYMATTR Value {Cout}
SYMBOL ind 384 -16 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName L1
SYMATTR Value {L}
SYMBOL Diode 720 -16 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D1
SYMBOL sw 576 208 M180
SYMATTR InstName S1
SYMATTR SpiceModel MY_SW
SYMBOL Res 1152 96 R0
SYMATTR InstName R1
SYMATTR Value 9k
SYMBOL ind 592 96 R180
WINDOW 0 36 80 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName L2
SYMATTR Value {Lp}
SYMBOL ind 608 -16 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName L3
SYMATTR Value {Lp}
SYMBOL ind 800 -16 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName L4
SYMATTR Value {Lp}
SYMBOL ind 592 320 R180
WINDOW 0 36 80 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName L5
SYMATTR Value {Lp}
SYMBOL ind 832 384 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName L6
SYMATTR Value {Lp}
SYMBOL Cap 656 112 R0
SYMATTR InstName C1
SYMATTR Value {Cp}
SYMBOL Cap 720 -144 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName C4
SYMATTR Value {Cp}
TEXT 72 -392 Left 2 !.MODEL MY_SW SW(Ron=112m Roff=1Meg Vt=0.5 Vh=-0.1)
TEXT 72 -336 Left 2 !.PARAM L=3.3uH Cout=1uF Vout=180 Vin=5 Iout=20m Fs=351.6k Ts={1/Fs}
TEXT -56 80 Left 2 !.tran .1m
TEXT 72 -224 Left 2 !.param D = sqrt((Iout*2*L*(Vout-Vin))/Ts)/Vin
TEXT 80 -256 Left 2 ;DCM Duty Cycle
TEXT 80 -176 Left 2 !.ic V(Vout) = 174.49
TEXT 88 -144 Left 2 ;.ic I(L1) = 1.5
TEXT 376 480 Left 2 !.param Lp=5n Cp=5p
