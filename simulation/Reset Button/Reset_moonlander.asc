Version 4
SHEET 1 1468 680
WIRE 1120 -240 576 -240
WIRE 1120 -224 1120 -240
WIRE 576 -192 576 -240
WIRE 576 -192 464 -192
WIRE 464 -144 464 -192
WIRE 1056 -80 928 -80
WIRE 1120 -80 1120 -144
WIRE 1120 -80 1056 -80
WIRE 1184 -80 1120 -80
WIRE 928 -48 928 -80
WIRE 464 -32 464 -64
WIRE 1056 -32 1056 -80
WIRE 736 32 672 32
WIRE 848 32 816 32
WIRE 880 32 848 32
WIRE 848 64 848 32
WIRE 1056 64 1056 32
WIRE 928 80 928 48
WIRE 576 112 576 -192
WIRE 480 128 416 128
WIRE 528 128 480 128
WIRE 528 176 464 176
WIRE 848 176 848 144
WIRE -192 192 -240 192
WIRE -128 192 -192 192
WIRE 464 224 464 176
WIRE 576 240 576 192
WIRE 672 240 672 32
WIRE 672 240 576 240
WIRE -240 256 -240 192
WIRE 576 304 576 240
WIRE 624 304 576 304
WIRE 736 304 688 304
WIRE 848 304 736 304
WIRE 992 304 848 304
WIRE 848 320 848 304
WIRE -240 384 -240 336
WIRE 736 448 736 384
WIRE 800 448 736 448
WIRE 848 448 848 384
WIRE 848 448 800 448
WIRE 800 480 800 448
FLAG -240 384 0
FLAG 464 224 0
FLAG 480 128 SW_CTLR
FLAG -192 192 SW_CTLR
FLAG 928 80 0
FLAG 1056 64 0
FLAG 800 480 0
FLAG 464 -32 0
FLAG 1184 -80 nRST
FLAG 992 304 BOOT0
FLAG 848 176 0
FLAG 672 32 gate
SYMBOL Voltage -240 240 R0
WINDOW 3 -414 56 Left 2
SYMATTR Value PULSE(0 1 1 1p 1p 0.5 5 2)
SYMATTR InstName V2
SYMBOL sw 576 208 M180
SYMATTR InstName S1
SYMATTR SpiceModel MY_SW
SYMBOL Res 720 288 R0
SYMATTR InstName R2
SYMATTR Value 30k
SYMBOL Cap 832 320 R0
SYMATTR InstName C1
SYMATTR Value 16µ
SYMBOL Diode 624 320 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D1
SYMBOL Res 832 16 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value 4.7k
SYMBOL Cap 1040 -32 R0
SYMATTR InstName C2
SYMATTR Value 80n
SYMBOL nmos 880 -48 R0
SYMATTR InstName M1
SYMATTR Value 2N7002
SYMBOL Voltage 464 -160 R0
SYMATTR InstName V1
SYMATTR Value 3.3V
SYMBOL Res 1104 -240 R0
SYMATTR InstName R3
SYMATTR Value 50k
SYMBOL Res 832 48 R0
SYMATTR InstName R4
SYMATTR Value 100k
TEXT 72 -392 Left 2 !.MODEL MY_SW SW(Ron=112m Roff=1Meg Vt=0.5 Vh=-0.1)
TEXT -56 80 Left 2 !.tran 10
